<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Go by Example: Channels</title>
    <link rel=stylesheet href="site.css">
  </head>
  <script>
      onkeydown = (e) => {
          
          if (e.key == "ArrowLeft") {
              window.location.href = 'goroutines';
          }
          
          
          if (e.key == "ArrowRight") {
              window.location.href = 'channel-buffering';
          }
          
      }
  </script>
  <body>
    <div class="example" id="channels">
      <h2><a href="./">Go by Example</a>: Channels</h2>
      
      <table>
        
        <tr>
          <td class="docs">
            <p><em>Channels</em> là những ống mà kết nối những goroutine
đồng thời. Bạn có thể gửi những giá trị vào trong
những channel từ một goroutine và nhận những giá trị
trong một goroutine khác.</p>

          </td>
          <td class="code empty leading">
            
          
          </td>
        </tr>
        
        <tr>
          <td class="docs">
            
          </td>
          <td class="code leading">
            <a href="https://go.dev/play/p/N4paeziCNlS"><img title="Run code" src="play.png" class="run" /></a><img title="Copy code" src="clipboard.png" class="copy" />
          <pre class="chroma"><span class="kn">package</span> <span class="nx">main</span>
</pre>
          </td>
        </tr>
        
        <tr>
          <td class="docs">
            
          </td>
          <td class="code leading">
            
          <pre class="chroma"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</pre>
          </td>
        </tr>
        
        <tr>
          <td class="docs">
            <p>Tạo một channel mới với <code>make(chan val-type)</code>.
Những channel được nhập theo các giá trị mà
chúng truyền tải.</p>

          </td>
          <td class="code leading">
            
          <pre class="chroma"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</pre>
          </td>
        </tr>
        
        <tr>
          <td class="docs">
            
          </td>
          <td class="code leading">
            
          <pre class="chroma">    <span class="nx">messages</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="kd">chan</span> <span class="kt">string</span><span class="p">)</span>
</pre>
          </td>
        </tr>
        
        <tr>
          <td class="docs">
            <p><em>Gửi</em> một giá trị vào trong một channel sử dụng
cú pháp the <code>channel &lt;-</code>. Ở đây, chúng ta send
<code>&quot;ping&quot;</code> đến <code>messages</code> channel chúng ta tạo ra ở
trên, từ một goroutine mới.</p>

          </td>
          <td class="code leading">
            
          <pre class="chroma">
    <span class="k">go</span> <span class="kd">func</span><span class="p">()</span> <span class="p">{</span> <span class="nx">messages</span> <span class="o">&lt;-</span> <span class="s">&#34;ping&#34;</span> <span class="p">}()</span>
</pre>
          </td>
        </tr>
        
        <tr>
          <td class="docs">
            <p>Cú pháp <code>&lt;-channel</code> <em>nhận</em> một giá trị từ channel.
Ở dây, chúng ta sẽ nhận được gói tin <code>&quot;ping&quot;</code> mà
chúng ta đã gửi trước đó và in chúng ra.</p>

          </td>
          <td class="code">
            
          <pre class="chroma">
    <span class="nx">msg</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">messages</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">msg</span><span class="p">)</span>
<span class="p">}</span>
</pre>
          </td>
        </tr>
        
      </table>
      
      <table>
        
        <tr>
          <td class="docs">
            <p>Khi chúng ra chạy chương trình gói tin <code>&quot;ping&quot;</code>
được truyền thành công từ một goroutine đến một
goroutine khác thông qua channel của chúng ta.</p>

          </td>
          <td class="code empty leading">
            
          
          </td>
        </tr>
        
        <tr>
          <td class="docs">
            
          </td>
          <td class="code leading">
            
          <pre class="chroma"><span class="gp">$</span> go run channels.go 
<span class="go">ping</span></pre>
          </td>
        </tr>
        
        <tr>
          <td class="docs">
            <p>Mặc định gửi và nhận bị chặn cho đến khi cả
channel gửi và nhận sẵn sàng. Thuộc tính này cho phép
chúng ta đợi gói tin <code>&quot;ping&quot;</code> ở cuối chương trình mà
không phải sử dụng bất kì sự đồng bộ hóa nào khác.</p>

          </td>
          <td class="code empty">
            
          
          </td>
        </tr>
        
      </table>
      
      
      <p class="next">
        Ví dụ tiếp theo: <a href="channel-buffering">Channel Buffering</a>.
      </p>
      

    <p class="footer">
      Tác giả <a href="https://markmcgranaghan.com">Mark McGranaghan</a> và <a href="https://eli.thegreenplace.net">Eli Bendersky</a> | <a href="https://github.com/mmcgrana/gobyexample">source</a> | <a href="https://github.com/mmcgrana/gobyexample#license">license</a>
    </p>

    </div>
    <script>
      var codeLines = [];
      codeLines.push('');codeLines.push('package main\u000A');codeLines.push('import \"fmt\"\u000A');codeLines.push('func main() {\u000A');codeLines.push('    messages :\u003D make(chan string)\u000A');codeLines.push('    go func() { messages \u003C- \"ping\" }()\u000A');codeLines.push('    msg :\u003D \u003C-messages\u000A    fmt.Println(msg)\u000A}\u000A');codeLines.push('');codeLines.push('');codeLines.push('');
    </script>
    <script src="site.js" async></script>
  </body>
</html>
