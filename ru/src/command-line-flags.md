# Флаги командной строки (Command-Line Flags)|Command-Line Flags
```go
// [_Флаги командной строки_](http://en.wikipedia.org/wiki/Command-line_interface#Command-line_option)
// являются распространенным способом задания параметров
// для программ командной строки. Например, в `wc -l` - `-l`
// является флагом командной строки.

package main

// Go предоставляет пакет `flag`, поддерживающий базовый
// парсинг флагов командной строки. Мы будем использовать
// этот пакет для реализации нашего примера программы
// командной строки.
import (
	"flag"
	"fmt"
)

func main() {

	// Основные объявления флагов доступны для строковых,
	// целочисленных и логических параметров. Здесь мы
	// объявляем строковой флаг `word` со значением по
	// умолчанию `"foo"` и кратким описанием. Функция
	// `flag.String` возвращает строковый указатель (не
	// строковое значение); мы увидим, как использовать
	// этот указатель ниже.
	wordPtr := flag.String("word", "foo", "a string")

	// Объявляем флаги `numb` и `fork`, используя тот же
	// подход, что и выше.
	numbPtr := flag.Int("numb", 42, "an int")
	boolPtr := flag.Bool("fork", false, "a bool")

	// Также возможно вызвать метод, который использует
	// существующую переменную, объявленную в другом месте
	// программы. Обратите внимание, что в данном случае
	// необходимо передать указатель.
	var svar string
	flag.StringVar(&svar, "svar", "bar", "a string var")

	// Как только все флаги объявлены, вызовите `flag.Parse()`,
	// чтобы выполнить парсинг командной строки.
	flag.Parse()

	// Здесь мы просто выведем результат парсинга и все
	// введеные аргументы. Обратите внимание, что нам
	// нужно разыменовать указатели, например, с
	// помощью `*wordPtr`, чтобы получить фактические
	// значения.
	fmt.Println("word:", *wordPtr)
	fmt.Println("numb:", *numbPtr)
	fmt.Println("fork:", *boolPtr)
	fmt.Println("svar:", svar)
	fmt.Println("tail:", flag.Args())
}
```
```sh
# Чтобы поэкспериментировать с программой флагов командной
# строки, лучше сначала скомпилировать ее, а затем
# напрямую запустить полученный бинарный файл.
$ go build command-line-flags.go

# Попробуйте встроенную программу, сначала задав ей
# значения для всех флагов.
$ ./command-line-flags -word=opt -numb=7 -fork -svar=flag
word: opt
numb: 7
fork: true
svar: flag
tail: []

# Обратите внимание, что если вы опустите флаги, они
# автоматически примут свои значения по умолчанию.
$ ./command-line-flags -word=opt
word: opt
numb: 42
fork: false
svar: bar
tail: []

# Конечные позиционные аргументы могут быть
# предоставлены после любых флагов.
$ ./command-line-flags -word=opt a1 a2 a3
word: opt
...
tail: [a1 a2 a3]

# Обратите внимание, что пакет `flag` требует, чтобы все
# флаги отображались перед позиционными аргументами
# (в противном случае флаги будут интерпретироваться
# как позиционные аргументы).
$ ./command-line-flags -word=opt a1 a2 a3 -numb=7
word: opt
numb: 42
fork: false
svar: bar
tail: [a1 a2 a3 -numb=7]

# Используйте флаги `-h` или `--help`, чтобы получить
# автоматически сгенерированный текст справки для
# программы командной строки.
$ ./command-line-flags -h
Usage of ./command-line-flags:
  -fork=false: a bool
  -numb=42: an int
  -svar="bar": a string var
  -word="foo": a string

# Если вы укажете флаг, который не был указан для пакета
# флагов, программа напечатает сообщение об ошибке
# и снова покажет текст справки.
$ ./command-line-flags -wat
flag provided but not defined: -wat
Usage of ./command-line-flags:
...
```
